# 쿠버네티스 창시자에게 배우는 모범 사례 2판

## 책 정보
- 제목: 쿠버네티스 창시자에게 배우는 모범 사례 2판(실전에 바로 적용하는 핸즈온 쿠버네티스)
- 저자: 브렌던 번스, 에디 비얄바, 데이브 스트레벨, 라클런 이븐슨 / 역자: 이일웅


## 책 선택 이유
- 출판사의 책 리뷰에 참여하게 되었는데, 쿠버네티스가 업무에서 쓰이는 기술 스택 중 하나여서 이번 기회에 강제성을 부여해서 배경지식을 쌓기 위함.

- 현재 이 책을 읽는 시점에는 쿠버네티스의 배경지식이 아예 없기 때문에 세세한 부분에 집중하기보다는 쿠버네티스 기술의 전반적인 흐름을 읽고 실무 활용도를 높이는 방향으로 정리해볼 예정. 쿠버네티스 환경에서 개발 시 고려해야 할 사항이나 개발 방법론 위주로 챙기면 좋을 것 같다는 생각.

## 읽기 전 생각해 볼 점
- 쿠버네티스란
- 특징, 사용하는 이유, 장점과 단점 등

### 쿠버네티스란
- 일단 컨테이너에 대해 알아야 함
  - 컨테이너는 애플리케이션을 실행하는 데 필요한 모든 것을 하나로 묶은 작은 패키지이다.
  - 쿠버네티스는 이런 컨테이너들을 한꺼번에 관리하고, 필요한 만큼 컨테이너를 늘리거나 줄이고, 장애가 발생했을 때 자동으로 복구하도록 도와준다.
  - tool. 도구이기 때문에 사용하는 법을 잘 알면 잘 활용할 수 있다.

- 어, 근데 도커도 컨테이너와 관련있지 않나? 어떤 차이가 있을까?
  - 도커는 컨테이너를 만들고 실행하는 도구이다.
  - 한두 개의 상자를 실행할 때 적합하다.
  - 수동으로 관리해야 함.

  - 쿠버네티스는 컨테이너 여러 개를 관리하고 조율하는 플랫폼이다.
  - 한두 개가 아니라 수백, 수천 개의 컨테이너가 있을 때 이를 자동으로 배포하고, 확장하며, 문제가 생기면 복구하도록 도와준다.
  - 자동 배포, 확장, 복구 가능.

  - 따라서 도커는 컨테이너를 만들고 실행하는 데 사용하고, 쿠버네티스는 만들어진 컨테이너를 여러 대의 서버에서 효과적으로 관리하는 도구이다.

### 쿠버네티스의 주요 특징
- 위에서도 나왔지만
  - 자동화된 배포가 가능함(애플리케이션 업데이트나 새 버전을 자동으로 배포 가능)
  - 확장성이 좋다. 트래픽이 많아지면 컨테이너를 더 추가하고, 트래픽이 줄면 줄이는 것도 가능함
  - 자체 복구. 문제가 생긴 컨테이너를 자동으로 재시작하거나 교체함
  - AWS, Azure, Google Cloud등 어디에서나 작동 가능함. 클라우드 독립성

### 언제. 사용하면 좋을까?
- 사용자가 많이 몰리는 상황.
  한 번에 많은 사용자가 몰린다면, 서버가 더 많이 필요한데, 모든 걸 수동으로 설정하면 복잡하고 시간이 오래 걸린다. 쿠버네티스는 이런 상황에서 자동으로 처리해주기 때문에 휴먼 에러도 줄일 수 있고 시간과 노력을 절약할 수 있다.

### 단점이 있을까?
- 초기 학습 곡선이 가파른 편이다. 설정과 사용법을 익히는 데 시간이 걸림
- 작은 프로젝트에는 오버 스펙이될 수 있음. 자체적으로도 많은 시스템 자원이 필요한데. 관리하는 데 드는 비용도 있기 때문.

====
### 쿠버네티스. k8s란?
컨테이너 오케스트레이션 도구의 하나로, 시스템 전체를 통괄하고 여러 개의 컨테이너를 관리한다.

### 쿠버네티스를 일반적인 프로그래머가 관리하는 일은 드물다.
여러 개의 컨테이너를 관리해야 할 만큼 대규모 시스템을 다뤄야 하는 상황이 많은가? 먼저 한번 생각해보자.

또한, 아무리 대규모 시스템을 개발하는 프로그래머라도 대규모 서버군을 프로그래머가 직접 관리할 일이 드물 듯이 쿠버네티스를 사용할 일도 드물 것이다.

다만 쿠버네티스로 어떤 일을 할 수 있는가에 대한 지식은 시스템을 개발할 때 유용할 수 있다.

쿠버네티스로 관리되는 시스템은 이를 전제로 개발해야 한다. 그렇지 않다면 쿠버네티스의 이점을 제대로 살릴 수 없기 때문이다.

따라서 쿠버네티스로 어떤 일을 할 수 있는가를 잘 이해해 보자.

## 쿠버네티스는 여러 대의 컨테이너가 여러 대의 물리적 서버에 걸쳐 실행되는 것을 전제로 한다

이렇게 여러 대의 서버에서 일일이 컨테이너를 실행하고 관리하기는 쉬운 일이 아니다. 쿠버네티스는 바로 이를 위한 도구다.

예를 들어, 20개의 컨테이너를 만들려면 docker run 커맨드를 20번 실행해야할 것이다. 매우 지겹고 지루한 작업이다.

도커 컴포즈를 사용한다 해도 물리적 서버가 여러 대라면 반복 작업은 사라지지 않는다.

거기다 어떻게든 컨테이너를 생성해 실행했다 해도 물리적 서버를 일일이 모니터링하며 장애가 일어나면 컨테이너를 다시 실행해야 하는 것은 물론이고 컨테이너를 업데이트하려면 다시 한번 큰 수고가 따른다.

이런 날은 야근 확정이나 마찬가지다. 야근이다!

쿠버네티스는 이렇게 번거로운 컨테이너 생성이나 관리의 수고를 덜어주는 도구다.

도커 컴포즈에서 사용되는 컴포즈 파일과 비슷한 정의 파일(매니페스트 파일)만 작성하면 이 정의에 따라 모든 물리적 서버에 컨테이너를 생성하고, 생성한 컨테이너를 관리해 준다.



참고
- [책] 그림과 실습으로 배우는 도커 & 쿠버네티스
- [공식]
