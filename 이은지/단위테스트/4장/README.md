# 4장 좋은 단위 테스트의 4대 요소
> 가치 있는 테스트를 작성하려면 가치 있는 테스트를 식별할 수 있어야 한다.

> 좋은 단위 테스트에는 다음 네 가지 특성이 있다.
> - 회귀 방지
> - 리팩터링 내성
> - 빠른 피드백
> - 유지 보수성

> 이 네 가지 기본 특성으로 단위 테스트 뿐만 아니라, 통합테스트, 엔드 투 엔드 테스트 등 자동화된 모든 테스트를 분석하는 데 사용할 수 있다.

## 회귀 방지
- 회귀란?
    - 회귀는 소프트웨어 버그다.
- 회귀 방지란?
    - 테스트가 얼마나 버그(회귀)의 존재를 잘 나타내는지에 대한 척도이다.
- 회귀 방지 지표에 대한 고려 사항
    - 테스트 중에 실행되는 코드가 많을수록 테스트에서 버그가 드러날 확률이 높아진다.
    - 복잡한 비즈니스 로직을 나타내는 코드가 보일러플레이트 코드보다 훨씬 더 중요하다. 비즈니스에 중요한 기능에서 발생한 버그가 가장 큰 피해를 입히기 때문이다.
    - 반면에 단순한 코드를 테스트하는 것은 가치가 거의 없다. 단순한 코드를 다루는 테스트는 실수할 여지가 많지 않기 때문에 회귀 오류가 많이 생기지 않는다.
- 회귀 방지 지표를 극대화하려면 테스트가 가능한 한 많은 코드를 실행하는 것을 목표로 해야 한다.
    - 그런 의미에서 최상의 보호를 위해서는 테스트가 해당 라이브러리, 프레임워크, 외부 시스템을 테스트 범주에 포함시켜서 소프트웨어가 이러한 의존성에 대해 검증이 올바른지 확인한다.

## 리팩터링 내성
- 리팩터링이란?
    - 리팩터링은 식별할 수 있는 동작을 수정하지 않고 기존 코드를 변경하는 것을 의미한다. 그 의도는 코드의 비기능적 특징을 개선하는 것으로 가독성을 높이고 복잡도를 낮추는 것이다.
    - 예를 들면, 메서드 이름을 바꾸는 것이나 코드 조각을 새로운 클래스로 추출하는 것을 생각해볼 수 있다.

- 리팩터링 내성이란?
    - 테스트가 거짓 양성을 내지 않고 애플리케이션 코드 리팩터링을 유지할 수 있는 정도를 의미한다.

### 거짓 양성(false positive)
- 거짓 양성은 허위 경보다.
    - 즉, 기능을 리팩터링

- 리팩터링 내성 지표에서 테스트 점수가 잘 나오려면, 거짓 양성이 적게 발생해야 한다.

## 빠른 피드백

## 유지 보수성
