# 5장 코루틴: 언어 차원에서의 지원 vs 라이브러리

대부분의 사람들은 코루틴을 단 하나의 개념으로 생각하지만, 코루틴은 두 가지로 구성되어 있다.
- 코틀린 언어에서 자체적으로 지원하는 부분(컴파일러의 지원과 코틀린 기본 라이브러리의 요소)
- 코틀린 코루틴 라이브러리(`kotlinx.coroutines`)

이 둘은 같은 것으로 취급되곤 하지만, 실상을 들여다 보면 전혀 다르다.

## 코틀린 언어차원에서의 지원
- 자유도를 보장하기 위해 코루틴을 최소한으로 지원
다른 프로그래밍 언어에서 동시성을 구현한 스타일을 이식하기 위해 사용할 수 있지만, 직접 다루기는 쉽지 않다.
- 그 예로, `suspend Coroutine`이나 `Continuation` 등을 들 수 있으며, 애플리케이션 개발자들보다는 라이브러리 개발자들에게 적합하다.

## kotlinx.coroutines 라이브러리
- 프로젝트에 이 라이브러리를 사용하기 위한 별도의 의존성 추가 필요
- 코틀린 언어 차원에서 코루틴을 지원하기 위해 만들어졌으며, 사용하기 훨씬 쉽고 동시성을 명확하게 구현할 수 있게 해준다.

### 언어 차원에서의 지원 vs kotlinx.coroutines 라이브러리

| 언어 차원에서의 지원 | kotlinx.coroutines 라이브러리 |
| --- | --- |
| 컴파일러가 지원하며 코틀린 기본 라이브러리에 포함되어 있다. | 의존성을 별도로 추가해야 한다. |
| kotlin.coroutines 패키지에 포함되어 있다. | kotlinx.coroutines 패키지에 포함되어 있다. |
| Continuation 또는 suspendCoroutines과 같은 몇몇 기본적인 것들과 suspend 키워드를 최소한으로 제공한다. | launch, async, Deferred처럼 다양한 기능을 제공한다. |
| 직접 사용하기 아주 어렵다. | 직접 사용하기 편리하게 설계되어 있다. |
| 거의 모든 동시성 스타일이 허용된다. | 단 하나의 명확한 동시성 스타일을 위해 설계되어 있다. |

지금까지는 코틀린 언어 차원에서 지원하는 코루틴 개념에 대해 살펴봤다면, 앞으로는 `kotlinx.coroutines` 라이브러리에 집중해서 코루틴에 대해 배워본다.